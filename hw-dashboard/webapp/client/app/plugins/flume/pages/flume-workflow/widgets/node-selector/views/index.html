<div class="b-node-selector-widget">
    <div class="b-node-selector-widget__header">Add node</div>
    <input type="text" ng-model="subtypeFilter" placeholder="Search a node..."
           class="b-node-selector-widget__search-node-input"/>

    <div class="b-node-selector-widget__nodes-tree">
        <accordion-widget expand-all-tabs-if-not-empty="subtypeFilter">
            <pane ng-repeat="group in nodesMetadata" ng-if="(group.subtypes | filter:subtypeFilter).length > 0">
                <pane-header node-type="{{::group.type}}" expanded="expanded">{{group.type}}</pane-header>
                <pane-content>
                    <div ng-repeat="subtype in group.subtypes | filter:subtypeFilter" ng-click="addNode(group.type, subtype)"
                         class="b-node-selector-widget__content-item" highlight-text-by-search="subtypeFilter">{{subtype}}
                    </div>
                </pane-content>
            </pane>
        </accordion-widget>
    </div>
</div>
