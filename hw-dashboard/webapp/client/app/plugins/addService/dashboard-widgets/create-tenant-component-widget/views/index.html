<div class="b-create-service-wizard">
    <div class="b-create-service-wizard__steps" ng-if="currentStep">
        <dap-widget class="b-create-service-wizard__steps__include-container" name="currentStep.widgetName"
                    params="{data: sharedData, stepNumber: currentStepNumber, showValidationErrors: showValidationErrors}"></dap-widget>
        <div class="b-create-service-wizard__steps__buttons">
            <button class="btn btn-secondary btn-lg" ng-click="prevStep()" ng-disabled="currentStepNumber === 1">
                Prev Step
            </button>
            <button class="btn btn-default btn-lg" ng-click="nextStep()" ng-hide="currentStep.isLastStep">
                Next Step
            </button>
            <button class="btn btn-default btn-lg" ng-click="save()" ng-show="currentStep.isLastStep">
                Create
            </button>
        </div>
    </div>

    <div class="b-create-service-wizard__status-panel">
        <ul class="list-unstyled b-create-service-wizard__status-list">
            <li ng-repeat="s in steps" ng-show="steps.indexOf(currentStep) >= $index && !s.isLastStep"
                ng-class="{'b-create-service-wizard__status-panel__status-line_completed': s.isCompleted()}"
                class="b-create-service-wizard__status-panel__status-line">
                <span class="b-create-service-wizard__status-panel__status-line__key">{{key($index)}}</span>
                <span class="b-create-service-wizard__status-panel__status-line__value">{{s.status()}}</span>
            </li>
        </ul>

        <div class="b-create-service-wizard__status-panel__buttons">
            <button class="btn btn-secondary btn-lg" ng-click="cancelCreateNew()">Cancel</button>
        </div>
    </div>

    <div class="b-oozie-plugin-widget-backdrop" ng-show="isLoading">
        <div class="b-oozie-plugin-widget-backdrop__spinner">
            <div class="b-oozie-plugin-widget-backdrop__spinner__top"></div>
            <div class="b-oozie-plugin-widget-backdrop__spinner__bottom"></div>
        </div>
    </div>
</div>
